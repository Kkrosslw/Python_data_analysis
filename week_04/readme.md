# :angel: What do we do in the week4?
## :dog: 在这一周，我们继续用胡润独角兽的数据表格进行数据分析，但是在本周的数据分析又与前几周的不太一样了呢
## 本周课程主要内容:sheep:
### :whale: 1. 新增变量
顾名思义，就是在表格新增一列变量。但是将表格数据用字符串方法会更加方便，可用的方法也会更多。新增变量主要有两种方法：   
* 直接赋值
```
代码示例：
df.loc[:, "新的变量"] = df["旧的变量"].str.split('、') ---> 后面内容可由自己的实际表格数据修改，此处仅仅只是一个示例
```
* assign方法   
```
代码示例：
df.assign（新的变量 = lambda x : x["旧的变量"].str.split('[、,,]')  ---> 此处也仅仅是代码示例   
注：lambda是匿名函数，允许你快速定义单行的最小函数
```
### :fish: 2. 一些数据处理方法(与str()方法一起用)   
* drop()：删除某列数据，其参数axis=1或axis=0   
* contains()：查询是否包含某些字符,返回的值类型是bool
* split()：进行拆分，其参数expand=True表示把series类型转化为Dataframe
* isnumeric()：判断该值是否为数字，返回的值类型是bool
* 注意：类型为数字的数据列无法使用str方法
### :dog2: 3. 数据框重塑   
也就是数据透视，可以通过stack()实现.  
* stack()：是将原来的列索引转成了最内层的行索引,且操作后返回对象是series类型，默认操作最里层数据
* reset_index：可以还原索引，重新变为默认的整型索引.其中参数level控制了具体要还原的那个等级的索引,drop=True时删除原索引行
### :leopard: 4. 数据框聚合  
* 使用merge()进行聚合数据框.这个比较简单，只要注意我们要将哪个表格聚合到一起
## 我的总结:whale2:
这周内容明显比前三周难度有所增加，老师明明说这节课不是代码课，结果还是好多代码呜呜呜。这周处理数据的方式用到了许多方法，都要重新学习他们的用途且使用之后数据会变成怎么样。总的来说，还是得多进行数据的操作，才知道如何更好地使用哪种方法进行处理。当然在总结的时候，我只是带过一下说方法的用途，实际还是得靠练习才能明白一维的数据如何变成二维，且为什么要变成二维都要清楚，逻辑很重要。继续加油吧！！:sun_with_face:	
